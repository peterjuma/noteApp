(this.webpackJsonpreact=this.webpackJsonpreact||[]).push([[0],{108:function(e,t){},327:function(e,t,n){},328:function(e,t,n){"use strict";n.r(t);var a=n(2),o=n.n(a),i=n(29),s=n.n(i),c=n(5),l=n.n(c),r=n(9),d=n(39),u=n(30),h=n(31),b=n(4),f=n(40),p=n(38),m=n(0);var j=function(e){var t={noteid:Math.random().toString(16).slice(2),notetitle:"",notebody:"",activepage:"",action:"addnote"},n=o.a.useRef();return Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:"nav-bar-left",children:Object(m.jsxs)("div",{className:"nav-left-icon",children:[Object(m.jsx)("i",{id:"homeBtn",onClick:function(t){return e.handleClickHomeBtn(t)},className:"fa fa-home btn","aria-hidden":"true"}),Object(m.jsx)("h4",{children:"Notes"}),Object(m.jsx)("i",{id:"addNoteBtn","data-action":"addnote",onClick:function(n){return e.handleEditNoteBtn(n,t)},className:"fa fa-plus btn","aria-hidden":"true"})]})}),Object(m.jsxs)("div",{className:"search-bar",children:[Object(m.jsx)("i",{className:"fa fa-search searchButton","aria-hidden":"true",onClick:function(){n.current.focus()}}),Object(m.jsx)("input",{type:"search",placeholder:"Search Notes",className:"search-field",ref:n,onChange:function(t){return e.handleSearchNotes(t)}})]})]})};var x=function(e){return Object(m.jsxs)("div",{className:"sort-order-selector",children:[Object(m.jsxs)("label",{children:["Sort by:",Object(m.jsxs)("select",{id:"sort-selection",defaultValue:"<option> Choose here</option>",onChange:function(t){return e.handleSortNotes()},children:[Object(m.jsx)("option",{children:" Choose here"}),Object(m.jsx)("option",{value:"3",children:"Created: Oldest"}),Object(m.jsx)("option",{value:"2",children:"Created: Newest"}),Object(m.jsx)("option",{value:"0",children:"Title: A-Z"}),Object(m.jsx)("option",{value:"1",children:"Title: Z-A"}),Object(m.jsx)("option",{value:"4",children:"Modified: Newest"}),Object(m.jsx)("option",{value:"5",children:"Modified: Oldest"})]})]}),Object(m.jsx)("div",{className:"backupbtn",children:Object(m.jsx)("i",{className:"fas fa-download btn",onClick:e.handleNotesBackup})})]})};var g=function(e){var t=e.display,n=e.notesData;return Object(m.jsx)("div",{className:!0===t?"nav-bar":"hidden",children:Object(m.jsxs)("div",{children:[Object(m.jsx)("i",{className:"far fa-copy btn",id:"copyBtn",onClick:function(t){return e.handleCopyNote(t,n)}}),Object(m.jsx)("i",{className:"far fa-edit btn",id:"editbtn","data-action":"updatenote",onClick:function(t){return e.handleEditNoteBtn(t,n)},children:" "}),Object(m.jsx)("i",{className:"far fa-trash-alt btn","aria-hidden":"true",style:{float:"right"},onClick:function(t){return e.handleDeleteNote(t,n)}}),Object(m.jsx)("i",{className:"far fa-arrow-alt-circle-down btn","aria-hidden":"true",style:{float:"right"},onClick:function(t){return e.handleDownloadNote(n)}})]})})};var v=function(e){var t=e.note,n="addnote"===t.action?"note-list-item note-list-item-clicked":"note-list-item";return Object(m.jsx)("li",{className:n,id:t.noteid,onClick:function(n){return e.handleClick(n,t)},onMouseOver:function(n){return e.handleMouseOver(n,t)},onMouseOut:function(t){return e.handleMouseOut(t)},children:t.title})},y=n(32),O=n.n(y),k=n(33),N=n.n(k),C=n(34),S=n.n(C),E=n(35),w=n(36),B=new E.a,_=w.a;B.use(_);var D=new S.a;D.use(O.a),D.use(N.a);var I=function(e){var t=e.notesData;return Object(m.jsxs)("div",{className:"main",children:[Object(m.jsx)("div",{className:"page-header",children:Object(m.jsx)("h2",{id:"notetitle-view",dangerouslySetInnerHTML:{__html:D.render(t.notetitle)}})}),Object(m.jsx)("div",{className:"markdown-body",id:"notebody-view",dangerouslySetInnerHTML:{__html:D.render(t.notebody)},onCopy:function(t){return e.handleCopyEvent(t)}})]})},L=n.p+"static/media/README.7753bf41.md",T=n(3),M=n(7),H=n(6),A=n.n(H);var q=function(e){var t=e.note,n={note_preview:{width:"50%",height:"100%",borderLeft:"1px solid #dcdcde"},title:{paddingTop:"40px",paddingBottom:"10px",margin:"0 50px",borderBottom:"1px solid #eee",height:"100px"},body:{color:"#24292e",fontFamily:"-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji",fontSize:"16px",lineHeight:"1.5",wordWrap:"break-word",overflow:"auto",height:"calc(100% - 150px)",padding:"40px 50px 50px"},bottom:{position:"absolute",bottom:"0",borderTop:"1px solid #dcdcde",height:"50px",width:"50%"}};return Object(m.jsx)(o.a.Fragment,{children:Object(m.jsxs)("div",{style:n.note_preview,children:[Object(m.jsx)("h2",{style:n.title,dangerouslySetInnerHTML:{__html:A()(t.notetitle||"")}}),Object(m.jsx)("div",{style:n.body,dangerouslySetInnerHTML:{__html:A()(t.notebody||"")}}),Object(m.jsx)("div",{style:n.bottom})]})})},R="\n```\n",U={backticks:{open:"`",close:"`",pattern:"",regEx:!1,offsetStart:1,offsetEnd:1},doublequote:{open:'"',close:'"',pattern:"",regEx:!1,offsetStart:1,offsetEnd:1},singlequote:{open:"'",close:"'",pattern:"",regEx:!1,offsetStart:1,offsetEnd:1},bold:{open:"**",close:"**",pattern:"",regEx:!1,offsetStart:2,offsetEnd:2},italic:{open:"_",close:"_",pattern:"",regEx:!1,offsetStart:1,offsetEnd:1},strike:{open:"~~",close:"~~",pattern:"",regEx:!1,offsetStart:2,offsetEnd:2},codeblock:{open:R,close:R,pattern:"",regEx:!1,offsetStart:5,offsetEnd:5},brackets:{open:"(",close:")",pattern:"",regEx:!1,offsetStart:1,offsetEnd:1},curlybrackets:{open:"{",close:"}",pattern:"",regEx:!1,offsetStart:1,offsetEnd:1},squarebrackets:{open:"[",close:"]",pattern:"",regEx:!1,offsetStart:1,offsetEnd:1},anglebrackets:{open:"<",close:">",pattern:"",regEx:!1,offsetStart:1,offsetEnd:1},link:{open:"",close:"",pattern:"",regEx:!1,offsetStart:7,offsetEnd:7},image:{open:"",close:"",pattern:"",regEx:!1,offsetStart:12,offsetEnd:12},table:{open:"",close:"",pattern:"\ncolumn1 | column2 | column3\n------- | ------- | -------\ncolumn1 | column2 | column3\ncolumn1 | column2 | column3\ncolumn1 | column2 | column3\n",regEx:!1,offsetStart:1,offsetEnd:1},hline:{open:"",close:"",pattern:"\n----",regEx:!1,offsetStart:"",offsetEnd:""},ulist:{open:"",close:"",pattern:"- ",regEx:!0,offsetStart:2,offsetEnd:2},olist:{open:"",close:"",pattern:"1. ",regEx:!0,offsetStart:3,offsetEnd:3},tasklist:{open:"",close:"",pattern:"- [ ]",regEx:!0,offsetStart:6,offsetEnd:6},heading:{open:"",close:"",pattern:"###",regEx:!0,offsetStart:4,offsetEnd:4},blockquote:{open:"",close:"",pattern:"> ",regEx:!0,offsetStart:2,offsetEnd:2},tab:{open:"",close:"",pattern:"\t",regEx:!0,offsetStart:"",offsetEnd:""}};var F=function(e){var t=e.editNoteData,n=Object(a.useState)(!1),o=Object(M.a)(n,2),i=o[0],s=o[1],c={main_editor:{paddingLeft:"5px",paddingRight:"1px",height:"100%",display:"flex",flexDirection:"column",width:i?"50%":"100%"},buttons:{display:"inline-flex",float:"right",borderLeft:"1px solid #dcdcde"},textarea:{display:"flex",flexDirection:"column",maxWidth:"1440px",margin:"0 auto",width:"100%",padding:"50px 60px",fontSize:"16px",fontWeight:"400",overflow:"auto",lineHeight:"1.45",borderRadius:"0",resize:"none",boxShadow:"none",border:"none",height:"100%",borderRadius:"5px"},dark:{backgroundColor:"hsl(0, 0%, 14%)",color:"#afafaf"},light:{backgroundColor:"#fafafa",color:"#000000"},mdtools_dark:{backgroundColor:"hsl(0, 0%, 14%)",color:"#292a2b"},btn_dark:{backgroundColor:"hsl(0, 0%, 14%)",color:"#afafaf"},mdtools_light:{color:"#333",backgroundColor:"#fff"},btn_light:{backgroundColor:"#fff",color:"#777"}},l=i?{split:!0,buttonClass:"far fa-window-maximize fa-lg md_btn",description:"Full Screen"}:{split:!1,buttonClass:"fas fa-columns fa-lg md_btn",description:"Split Screen"},r=Object(a.useState)(l),d=Object(M.a)(r,2),u=d[0],h=d[1],b=function(){f(u,h),s(!i)},f=function(e,t){e.split?t({split:!1,buttonClass:"fas fa-columns fa-lg md_btn",description:"Split Screen"}):t({split:!0,buttonClass:"far fa-window-maximize fa-lg md_btn",description:"Full Screen"})},p=Object(a.useState)({theme:"vs-light",description:"Dark Mode",themeclass:"fas fa-moon fa-lg md_btn",buttonstyle:Object(T.a)({},c.btn_light)}),j=Object(M.a)(p,2),x=j[0],g=j[1],v=function(e,t){"vs-dark"==e.theme?t({theme:"vs-light",description:"Dark Mode",themeclass:"fas fa-moon fa-lg md_btn",buttonstyle:Object(T.a)({},c.btn_light)}):t({theme:"vs-dark",description:"Light Mode",themeclass:"fas fa-sun fa-lg md_btn",buttonstyle:Object(T.a)({},c.btn_dark)})},y=Object(a.useState)(t.notebody),O=Object(M.a)(y,2),k=O[0],N=O[1],C=Object(a.useState)(t.notetitle),S=Object(M.a)(C,2),E=S[0],w=S[1],_=Object(a.useRef)(),D=Object(a.useState)({start:0,end:0}),I=Object(M.a)(D,2),L=I[0],H=I[1],R=function(e){var t=document.querySelector("textarea"),n=t.selectionStart,a=t.selectionEnd,o=k,i=o.substring(n,a),s="![alt text](".concat(i,")"),c="[link](".concat(i,")");U.image.pattern=s,U.link.pattern=c;var l=U[e];if(l.regEx){var r="";if(/\r|\n/.exec(i)){for(var d=i.split("\n"),u=0;u<d.length;u++)d[u].length>0&&void 0!==d[u]&&(r+="".concat(l.pattern," ").concat(d[u],"\n"));i=r}else i=i.replace(/^/gm,"".concat(l.pattern," "));(h="".concat(o.substring(0,n)).concat(i).concat(o.substring(a,o.length)))&&(N(h),H("tab"===e?{start:n+i.length,end:n+i.length}:{start:n+l.offsetStart,end:n+l.offsetStart}))}else{if(""!==l.pattern)if("image"==e||"link"==e)var h="".concat(o.substring(0,n)).concat(l.pattern).concat(o.substring(a,o.length));else h="".concat(o.substring(0,n)).concat(i).concat(l.pattern).concat(o.substring(a,o.length));else h="".concat(o.substring(0,n)).concat(l.open).concat(i).concat(l.close).concat(o.substring(a,o.length));h&&(N(h),H({start:n+l.offsetStart,end:a+l.offsetEnd}))}},F=Object(a.useRef)();return Object(a.useEffect)((function(){F.current.selectionStart=L.start,F.current.selectionEnd=L.end,F.current.focus()}),[k]),Object(m.jsxs)("div",{className:"right-row",children:[Object(m.jsx)("div",{}),Object(m.jsxs)("div",{style:c.main_editor,children:[Object(m.jsx)("div",{className:"title-header",children:Object(m.jsx)("input",{name:"notetitle",type:"text",id:"notetitle","data-action":t.action,value:E,placeholder:"Title",autoComplete:"off",ref:_,onChange:function(e){return function(e){w(e.target.value)}(e)},style:"vs-light"===x.theme?Object(T.a)({},c.light):Object(T.a)({},c.dark)})}),Object(m.jsxs)("div",{className:"md-editor-tools",id:"mdtools",style:"vs-light"===x.theme?Object(T.a)({},c.mdtools_light):Object(T.a)({},c.mdtools_dark),children:[Object(m.jsx)("i",{className:"fas fa-bold md_btn",onClick:function(e){return R("bold")},style:x.buttonstyle,children:Object(m.jsx)("span",{className:"tooltiptext",children:"Bold"})}),Object(m.jsx)("i",{className:"fas fa-italic md_btn",onClick:function(e){return R("italic")},style:x.buttonstyle,children:Object(m.jsx)("span",{className:"tooltiptext",children:"Italic"})}),Object(m.jsx)("i",{className:"fas fa-heading md_btn",onClick:function(e){return R("heading")},style:x.buttonstyle,children:Object(m.jsx)("span",{className:"tooltiptext",children:"Header"})}),Object(m.jsx)("i",{className:"fas fa-link md_btn",onClick:function(e){return R("link")},style:x.buttonstyle,children:Object(m.jsx)("span",{className:"tooltiptext",children:"Link"})}),Object(m.jsx)("i",{className:"fas fa-list-ol md_btn",onClick:function(e){return R("olist")},style:x.buttonstyle,children:Object(m.jsx)("span",{className:"tooltiptext",children:"Ordered List"})}),Object(m.jsx)("i",{className:"fas fa-list md_btn",onClick:function(e){return R("ulist")},style:x.buttonstyle,children:Object(m.jsx)("span",{className:"tooltiptext",children:"Unordered List"})}),Object(m.jsx)("i",{className:"fas fa-quote-left md_btn",onClick:function(e){return R("blockquote")},style:x.buttonstyle,children:Object(m.jsx)("span",{className:"tooltiptext",children:"Quote"})}),Object(m.jsx)("i",{className:"far fa-image md_btn",onClick:function(e){return R("image")},style:x.buttonstyle,children:Object(m.jsx)("span",{className:"tooltiptext",children:"Image Link"})}),Object(m.jsx)("i",{className:"fas fa-terminal md_btn",onClick:function(e){return R("backticks")},style:x.buttonstyle,children:Object(m.jsx)("span",{className:"tooltiptext",children:"Backticks"})}),Object(m.jsx)("i",{className:"fas fa-code md_btn",onClick:function(e){return R("codeblock")},style:x.buttonstyle,children:Object(m.jsx)("span",{className:"tooltiptext",children:"Fenced Code"})}),Object(m.jsx)("i",{className:"far fa-check-square md_btn",onClick:function(e){return R("tasklist")},style:x.buttonstyle,children:Object(m.jsx)("span",{className:"tooltiptext",children:"Tasklist"})}),Object(m.jsx)("i",{className:"fas fa-table md_btn",onClick:function(e){return R("table")},style:x.buttonstyle,children:Object(m.jsx)("span",{className:"tooltiptext",children:"Table"})}),Object(m.jsx)("i",{className:"fas fa-strikethrough md_btn",onClick:function(e){return R("strike")},style:x.buttonstyle,children:Object(m.jsx)("span",{className:"tooltiptext",children:"Strikethrough"})}),Object(m.jsxs)("div",{style:c.buttons,children:[Object(m.jsx)("i",{className:u.buttonClass,onClick:function(){b()},style:x.buttonstyle,children:Object(m.jsx)("span",{className:"tooltiptext",children:u.description})}),Object(m.jsx)("i",{className:x.themeclass,onClick:function(e){v(x,g)},style:x.buttonstyle,children:Object(m.jsx)("span",{className:"tooltiptext",children:x.description})})]})]}),Object(m.jsxs)("div",{className:"md-txtarea",children:[Object(m.jsx)("div",{className:"texteditor scrollbar",children:Object(m.jsx)("textarea",{name:"notebody",onChange:function(e){return function(e){N(e.target.value),H({start:e.target.selectionStart,end:e.target.selectionEnd})}(e)},onPaste:function(e){return function(e){if(e.preventDefault(),e.clipboardData){var t,n=e.clipboardData?(e.originalEvent||e).clipboardData.getData("text/plain"):window.clipboardData?window.clipboardData.getData("Text"):"",a=e.clipboardData?(e.originalEvent||e).clipboardData.getData("text/html"):window.clipboardData?window.clipboardData.getData("Html"):"";if(a?(B.keep(["pre","code"]),t=B.turndown(a)):t=/<[a-z][\s\S]*>/i.test(n)?B.turndown(A()(n)):n,document.queryCommandSupported("insertText"))document.execCommand("insertText",!1,t);else{var o=document.processInputection().getRangeAt(0);o.deleteContents();var i=document.createTextNode(t);o.insertNode(i),o.selectNodeContents(i),o.collapse(!1);var s=window.processInputection();s.removeAllRanges(),s.addRange(o)}}}(e)},onKeyDown:function(e){return function(e){"Tab"===e.code?(R("tab"),e.preventDefault()):'"'===e.key?(R("doublequote"),e.preventDefault()):"("===e.key?(R("brackets"),e.preventDefault()):"{"===e.key?(R("curlybrackets"),e.preventDefault()):"["===e.key?(R("squarebrackets"),e.preventDefault()):"<"===e.key?(R("anglebrackets"),e.preventDefault()):"`"===e.key?(R("backticks"),e.preventDefault()):e.ctrlKey&&"KeyB"===e.code?R("bold"):e.ctrlKey&&"KeyI"===e.code?R("italic"):e.ctrlKey&&"KeyL"===e.code&&R("link")}(e)},"data-action":t.action,value:k,id:"notebody",ref:F,"data-action":t.action,selectionEnd:L.end,selectionStart:L.start,style:"vs-light"===x.theme?Object(T.a)(Object(T.a)({},c.textarea),c.light):Object(T.a)(Object(T.a)({},c.textarea),c.dark)})}),Object(m.jsx)("div",{className:"right-bottom-bar",children:Object(m.jsxs)("div",{className:"saveCancelBar",children:[Object(m.jsx)("i",{className:"far fa-save btn-save-cancel fa-2x",onClick:function(n){return function(n){t.notetitle=E,t.notebody=k,e.handleSaveNote(n,t)}(n)},"data-action":t.action}),Object(m.jsx)("i",{className:"far fa-window-close btn-save-cancel fa-2x",onClick:function(n){return"updatenote"===t.action?document.getElementById(t.noteid).click():document.querySelectorAll(".note-list-item").length>0?document.querySelectorAll(".note-list-item")[0].click():e.handleClickHomeBtn()}})]})})]})]}),i&&Object(m.jsx)(q,{note:{notebody:k,notetitle:E}})]})};var K=function(){return Object(m.jsx)("div",{className:"footer-bar"})},z=n(37),Z=n.n(z),W=n(11),J=n(19),P=function(e){Object(f.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).updateCodeSyntaxHighlighting=function(){document.querySelectorAll("pre code").forEach((function(e){Z.a.highlightElement(e)}))},n.handleCopyCodeButtonClick=function(){if(navigator&&navigator.clipboard)n.addCopyButtons(navigator.clipboard);else{var e=document.createElement("script");e.src="https://cdnjs.cloudflare.com/ajax/libs/clipboard-polyfill/2.7.0/clipboard-polyfill.promise.js",e.integrity="sha256-waClS2re9NUbXRsryKoof+F9qc1gjjIhc2eT7ZbIv94=",e.crossOrigin="anonymous",e.onload=function(){this.addCopyButtons(clipboard)},document.body.appendChild(e)}},n.addCopyButtons=function(e){var t=document.querySelectorAll("pre code");0!==t.length&&t.forEach((function(t){var n=t.parentNode,a=n.previousElementSibling;if(!a||"button"!==a.type){var o=document.createElement("button");if(o.className="copy-code-button",o.setAttribute("id","copy-code-button"),o.type="button",o.innerText="Copy",o.addEventListener("click",(function(){e.writeText(t.innerText).then((function(){o.blur(),o.innerText="Copied!",setTimeout((function(){o.innerText="Copy"}),2e3)}),(function(e){o.innerText="Error"}))})),n.parentNode.classList.contains("highlight")){var i=n.parentNode;i.parentNode.insertBefore(o,i)}else n.parentNode.insertBefore(o,n)}}))},n.handleNoteListItemClick=function(e,t){n.setState({noteid:t.noteid,notetitle:t.title,notebody:t.body,activepage:"viewnote",action:""});var a=document.querySelectorAll(".note-list-item-clicked");a.length>0&&a.forEach((function(e){return e.classList.remove("note-list-item-clicked")})),document.getElementById(t.noteid).classList.add("note-list-item-clicked")},n.handleNoteListItemMouseOver=function(e,t){var n=document.querySelectorAll(".note-list-item-hover");n.length>0&&n.forEach((function(e){return e.classList.remove("note-list-item-hover")})),document.getElementById(t.noteid).classList.add("note-list-item-hover")},n.handleNoteListItemMouseOut=function(){var e=document.querySelectorAll(".note-list-item-hover");e.length>0&&e.forEach((function(e){return e.classList.remove("note-list-item-hover")}))},n.handleClickHomeBtn=function(e){fetch(L).then((function(e){return e.text()})).then((function(e){var t=e.split("\n",1)[0],a=e.split("\n");a.splice(0,1);var o=a.join("\n");n.setState({noteid:"00000000",notetitle:t,notebody:o,activepage:"viewnote",action:"homepage"})}))},n.handleSortNotes=function(e){var t=Object(d.a)(n.state.allnotes),a=event?event.target.value:e;switch(a){case"0":t.sort((function(e,t){var n=e.title.toUpperCase(),a=t.title.toUpperCase();return n==a?0:n>a?1:-1}));break;case"1":t.sort((function(e,t){var n=e.title.toUpperCase(),a=t.title.toUpperCase();return n==a?0:n>a?-1:1}));break;case"2":t.sort((function(e,t){return t.created_at-e.created_at}));break;case"3":t.sort((function(e,t){return e.created_at-t.created_at}));break;case"4":t.sort((function(e,t){return t.updated_at-e.updated_at}));break;case"5":t.sort((function(e,t){return e.updated_at-t.updated_at}))}n.setState({sortby:a,allnotes:t}),document.getElementById(t[0].noteid).click()},n.handleEditNoteBtn=function(e,t){if(n.setState({noteid:t.noteid,notetitle:t.notetitle,notebody:t.notebody,activepage:"editnote",action:e.target.dataset.action}),"addnote"===e.target.dataset.action){var a=document.querySelector(".note-list-item-clicked");a&&a.classList.remove("note-list-item-clicked")}},n.handleNoteEditor=function(e){n.setState({[e.target.name]:e.target.value})},n.state={noteid:"",notetitle:"",notebody:"",activepage:"viewnote",action:"",sortby:"4",allnotes:[]},n.handleNoteListItemClick=n.handleNoteListItemClick.bind(Object(b.a)(n)),n.handleClickHomeBtn=n.handleClickHomeBtn.bind(Object(b.a)(n)),n.handleNoteListItemMouseOver=n.handleNoteListItemMouseOver.bind(Object(b.a)(n)),n.handleEditNoteBtn=n.handleEditNoteBtn.bind(Object(b.a)(n)),n.handleSaveNote=n.handleSaveNote.bind(Object(b.a)(n)),n.handleDeleteNote=n.handleDeleteNote.bind(Object(b.a)(n)),n.handleDownloadNote=n.handleDownloadNote.bind(Object(b.a)(n)),n.handleSearchNotes=n.handleSearchNotes.bind(Object(b.a)(n)),n.handleIndexedDB=n.handleIndexedDB.bind(Object(b.a)(n)),n.handleCopyNote=n.handleCopyNote.bind(Object(b.a)(n)),n.handleCopyEvent=n.handleCopyEvent.bind(Object(b.a)(n)),n.handleSortNotes=n.handleSortNotes.bind(Object(b.a)(n)),n.updateCodeSyntaxHighlighting,n.addCopyButtons,n.handleCopyCodeButtonClick,n.handleNoteEditor=n.handleNoteEditor.bind(Object(b.a)(n)),n.handleNotesBackup=n.handleNotesBackup.bind(Object(b.a)(n)),n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=Object(r.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.handleIndexedDB("getall");case 2:0==(t=e.sent).length?this.handleClickHomeBtn():(this.setState({allnotes:t}),document.getElementById(t[0].noteid).click()),this.updateCodeSyntaxHighlighting(),this.handleCopyCodeButtonClick();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){this.updateCodeSyntaxHighlighting(),this.handleCopyCodeButtonClick()}},{key:"handleIndexedDB",value:function(){var e=Object(r.a)(l.a.mark((function e(){var t,n,a,o,i,s,c,r,d=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.length>0&&void 0!==d[0]?d[0]:"",n=d.length>1&&void 0!==d[1]?d[1]:"",e.next=4,Object(W.a)("notesdb",1,{upgrade:function(e){var t=e.createObjectStore("notes",{keyPath:"noteid",autoIncrement:!0});t.createIndex("created_at","created_at"),t.createIndex("noteid","noteid")}});case 4:if(a=e.sent,"addnote"!==t){e.next=8;break}return e.next=8,a.add("notes",n);case 8:if("getall"!==t){e.next=13;break}return e.next=11,a.getAll("notes");case 11:return o=e.sent,e.abrupt("return",o);case 13:if("getone"!==t){e.next=23;break}return e.next=16,Object(W.a)("notesdb",1);case 16:return i=e.sent,s=i.transaction("notes"),c=s.store.index("noteid"),e.next=21,c.get(n);case 21:return r=e.sent,e.abrupt("return",r);case 23:if("update"!==t){e.next=28;break}return e.next=26,Object(W.a)("notesdb",1);case 26:e.sent.put("notes",n);case 28:if("delete"!==t){e.next=33;break}return e.next=31,Object(W.a)("notesdb",1);case 31:e.sent.delete("notes",n.noteid);case 33:a.close();case 34:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"handleDeleteNote",value:function(e,t){var n=this.state.allnotes.findIndex((function(e){return e.noteid===t.noteid}));if(this.setState((function(e){return{allnotes:e.allnotes.filter((function(e){if(e.noteid!==t.noteid)return e}))}})),this.handleIndexedDB("delete",t),this.state.allnotes.length-1==0)this.handleClickHomeBtn();else{var a=this.state.allnotes[n+1]?this.state.allnotes[n+1]:this.state.allnotes[n-1];this.handleNoteListItemClick("",a)}}},{key:"handleSaveNote",value:function(e,t){var n=B.turndown(A()(A()(t.notebody))),a=document.getElementById("notetitle").value;this.setState((function(e){var o=e.allnotes.map((function(e){return e.noteid===t.noteid&&(e.title=a,e.body=n,e.activepage="viewnote"),e}));return{noteid:t.noteid,notetitle:a,notebody:n,activepage:"viewnote",action:t.action,allnotes:o}})),"addnote"==t.action?(this.state.allnotes.push({noteid:t.noteid,notetitle:a,notebody:n,activepage:"viewnote",created_at:Date.now(),updated_at:Date.now(),action:t.action}),this.handleIndexedDB("addnote",{noteid:t.noteid,title:a,body:n,created_at:Date.now(),updated_at:Date.now()})):this.handleIndexedDB("update",{noteid:t.noteid,title:a,body:n,updated_at:Date.now()})}},{key:"handleCopyNote",value:function(e,t){var n=document.createElement("textarea");n.style.position="fixed",n.style.top=0,n.style.left=0,n.style.width="2em",n.style.height="2em",n.style.padding=0,n.style.border="none",n.style.outline="none",n.style.boxShadow="none",n.style.background="transparent",n.value="object"===typeof t?"## ".concat(t.notetitle,"\n").concat(t.notebody):t,document.body.appendChild(n),n.focus(),n.select();try{document.execCommand("copy")}catch(a){console.log("Oops, unable to copy")}document.body.removeChild(n)}},{key:"handleCopyEvent",value:function(e){e.preventDefault();var t="";if("undefined"!=typeof window.getSelection){var n=window.getSelection();if(n.rangeCount){for(var a=document.createElement("div"),o=0,i=n.rangeCount;o<i;++o)a.appendChild(n.getRangeAt(o).cloneContents());t=a.innerHTML}}else"undefined"!=typeof document.selection&&"Text"==document.selection.type&&(t=document.selection.createRange().htmlText);this.handleCopyNote("",B.turndown(t))}},{key:"handleSearchNotes",value:function(e){for(var t=document.querySelectorAll(".note-list-item"),n=e.target.value.toUpperCase(),a=[],o=0;o<t.length;o++){t[o].innerText.toUpperCase().indexOf(n)>-1?(t[o].style.display="",a.push(t[o])):t[o].style.display="none"}a.length>0&&a[0].click()}},{key:"handleDownloadNote",value:function(e){var t="".concat(e.notetitle.replace(/[^A-Z0-9]+/gi,"_")||"note",".md"),n=new Blob([e.notebody],{type:"text/plain;charset=utf-8"});Object(J.saveAs)(n,t)}},{key:"handleNotesBackup",value:function(){var e=n(319)();this.state.allnotes.map((function(t){var n="".concat(t.title.replace(/[^A-Z0-9]+/gi,"_")||"note",".md");e.file(n,t.body)})),e.generateAsync({type:"blob"}).then((function(e){Object(J.saveAs)(e,"notes_backup.zip")}))}},{key:"render",value:function(){var e,t,n=this,a=this.state.allnotes.map((function(e){return Object(m.jsx)(v,{note:e,handleClick:n.handleNoteListItemClick,handleMouseOver:n.handleNoteListItemMouseOver,handleMouseOut:n.handleNoteListItemMouseOut},e.noteid)}));return"viewnote"===this.state.activepage&&(t=Object(m.jsx)(g,{display:"homepage"!==this.state.action&&!0,notesData:{noteid:this.state.noteid,notetitle:this.state.notetitle,notebody:this.state.notebody,action:this.state.action},handleEditNoteBtn:this.handleEditNoteBtn,handleDeleteNote:this.handleDeleteNote,handleCopyNote:this.handleCopyNote,handleDownloadNote:this.handleDownloadNote}),e=Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(I,{notesData:{noteid:this.state.noteid,notetitle:this.state.notetitle,notebody:this.state.notebody,action:this.state.action},handleCopyEvent:this.handleCopyEvent}),Object(m.jsx)(K,{})]})),"editnote"===this.state.activepage&&(t=Object(m.jsx)(g,{display:!1}),e=Object(m.jsx)(F,{editNoteData:{noteid:this.state.noteid,notetitle:this.state.notetitle,notebody:this.state.notebody,action:this.state.action},splitscreen:this.state.split,handleEditNoteBtn:this.handleEditNoteBtn,handleSaveNote:this.handleSaveNote,handleClickHomeBtn:this.handleClickHomeBtn,handleNoteEditor:this.handleNoteEditor})),Object(m.jsxs)("div",{className:"container",children:[Object(m.jsxs)("div",{className:"left",children:[Object(m.jsx)(j,{handleClickHomeBtn:this.handleClickHomeBtn,handleEditNoteBtn:this.handleEditNoteBtn,handleSearchNotes:this.handleSearchNotes}),Object(m.jsx)("ul",{className:"note-list",children:a}),Object(m.jsx)(x,{handleSortNotes:this.handleSortNotes,handleNotesBackup:this.handleNotesBackup})]}),Object(m.jsxs)("div",{className:"right",children:[t,e]})]})}}]),a}(a.Component),Q=(n(327),document.getElementById("root"));s.a.render(Object(m.jsx)(a.StrictMode,{children:Object(m.jsx)(P,{})}),Q)}},[[328,1,2]]]);
//# sourceMappingURL=main.a1f5d015.chunk.js.map